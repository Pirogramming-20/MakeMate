{% extends 'base.html' %} 
{% block head %}
<title>idea_create</title>
{% endblock %} 
{% block content %}
<section class="group_base_set_container">
  
    <div class="wrap_title">
      <a href="{% url 'group:group_detail' group_id=group.id %}" class="home_btn">Home</a>
      <div class="inner_title">
        <h3 class="title_content">아이디어 추가하기</h3>
        <p class="subtitle_content">{{ group.title }}</p>
      </div>
    </div>

    <form action="{% url 'group:idea_create' group_id=group.id %}" method="post" enctype="multipart/form-data">
      <div id="form_container">
        {% csrf_token %}
        {% if form.non_field_errors %}
        <div class="wrap_error">
          {% for error in form.non_field_errors %} 
            {{ error }} 
          {% endfor %}
        </div>
        {% endif %} 
        {% for field in form %}
        <div id="vote_modify_form_container">
          {{ field.label_tag }}
          {% if field.name == 'file' %}
              <div class="custom-file-upload">
                  {{ field }}
              </div>
          {% else %}
              {{ field }}
          {% endif %}
          {% if field.help_text %}
              <div class="wrap_error">{{ field.help_text }}</div>
          {% endif %}
        </div>
        {% if field.errors %} 
          {% for error in field.errors %}
            <div class="wrap_error">{{ error }}</div>
          {% endfor %} 
        {% endif %} 
        {% endfor %}
      </div>

      <div class="vote_create_btns">
        <button type="submit" class="primary_button_fill">저장하기</button>
        <!-- 홈으로 버튼에 URL 추가 필요 -->
      </div>
    </form>
  </div>
</section>
{% endblock %}
